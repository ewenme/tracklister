(this.webpackJsonptracklister=this.webpackJsonptracklister||[]).push([[0],{146:function(e,t,a){e.exports=a(351)},167:function(e,t){},169:function(e,t){},348:function(e,t,a){},349:function(e,t,a){},351:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),c=a(133),o=a.n(c),l=a(145),i=a(5),s=a(6),u=a(8),m=a(7),p=a(9),b=a(144),d=a(135),h=a.n(d),f=function(e){var t=e.track_data.map((function(e,t){return r.a.createElement("li",{key:t},r.a.createElement("span",{className:"track-artist"},r.a.createElement("b",null,e.artist)," "),r.a.createElement("br",null),r.a.createElement("span",{className:"track-title"},r.a.createElement("small",null,e.track)))})),a=e.track_numbers?"decimal":"none";return r.a.createElement("ol",{style:{listStyleType:a}},t)},k=function(e){function t(e){var a;return Object(i.a)(this,t),(a=Object(u.a)(this,Object(m.a)(t).call(this,e))).initialState={track_data:a.props.track_data,copied:!1},a.state=a.initialState,a}return Object(p.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){var e=this.props,t=e.track_data,a=e.track_numbers;return r.a.createElement("div",{id:"tracklist"},r.a.createElement(f,{track_data:t,track_numbers:a}))}}]),t}(n.Component),E=a(136),g=function(){var e=Object(E.a)(!1);return r.a.createElement((function(e){var t=e.onClick;return r.a.createElement(r.a.Fragment,null,r.a.createElement("button",{className:"muted-button",id:"dark-status",icons:!1,onClick:t},"toggle text colour"))}),{onClick:e.toggle})},O=a(138),v=a.n(O),y=function(e){function t(e){var a;return Object(i.a)(this,t),(a=Object(u.a)(this,Object(m.a)(t).call(this,e))).initialState={track_numbers:a.props.track_numbers},a}return Object(p.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){return r.a.createElement("label",null,r.a.createElement(v.a,{id:"track-no-status",defaultChecked:this.props.track_numbers,icons:!1,onChange:this.props.toggleTrackNumbers}),r.a.createElement("span",{className:"label-text"},"track numbers"))}}]),t}(n.Component),j=a(139),N=function(e){function t(e){var a;return Object(i.a)(this,t),(a=Object(u.a)(this,Object(m.a)(t).call(this,e))).initialState={copied:!1,track_numbers:a.props.track_numbers},a.state=a.initialState,a}return Object(p.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){var e,t,a=this;return r.a.createElement(r.a.Fragment,null,r.a.createElement(j.CopyToClipboard,{text:(e=this.props.track_data,t=this.props.track_numbers,e.map((function(e,a){return t?a+1+". "+e.artist+" - "+e.track:e.artist+" - "+e.track})).join("\n")),onCopy:function(){return a.setState({copied:!0})}},r.a.createElement("button",{className:"muted-button"},"copy to clipboard")))}}]),t}(n.Component),_=a(140),C=a.n(_),T=a(141),x=a.n(T),L=function(e){function t(){return Object(i.a)(this,t),Object(u.a)(this,Object(m.a)(t).apply(this,arguments))}return Object(p.a)(t,e),Object(s.a)(t,[{key:"printDocument",value:function(){var e=document.getElementById("tracklist");C.a.toBlob(e).then((function(e){x.a.saveAs(e,"my-tracklist.png")}))}},{key:"render",value:function(){return r.a.createElement(r.a.Fragment,null,r.a.createElement("button",{className:"muted-button",onClick:this.printDocument},"take a screenshot"))}}]),t}(n.Component),S=a(142),A=function(e){function t(){var e,a;Object(i.a)(this,t);for(var n=arguments.length,r=new Array(n),c=0;c<n;c++)r[c]=arguments[c];return(a=Object(u.a)(this,(e=Object(m.a)(t)).call.apply(e,[this].concat(r)))).handleChangeComplete=function(e,t){document.body.style.backgroundColor=e.hex},a}return Object(p.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){return r.a.createElement("div",{className:"bodyCol"},r.a.createElement(S.CompactPicker,{onChangeComplete:this.handleChangeComplete}))}}]),t}(n.Component),I=a(143),w=function(e){function t(){return Object(i.a)(this,t),Object(u.a)(this,Object(m.a)(t).apply(this,arguments))}return Object(p.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){return r.a.createElement(I.a,{trigger:r.a.createElement("button",{className:"muted-button",id:"about"}," ","about / help"," "),modal:!0},(function(e){return r.a.createElement("div",{className:"modal"},r.a.createElement("a",{className:"close",onClick:e},"\xd7"),r.a.createElement("div",{className:"header"}," about / help "),r.a.createElement("div",{className:"content"}," ","A simple app to turn .txt files exported from"," ",r.a.createElement("a",{href:"https://rekordbox.com/en/"},"Rekordbox")," and .nml files exported from"," ",r.a.createElement("a",{href:"https://en.wikipedia.org/wiki/Traktor"},"Traktor")," into beautiful tracklists. Built with"," ",r.a.createElement("a",{href:"https://reactjs.org/"},"React"),". Made by"," ",r.a.createElement("a",{href:"https://twitter.com/ewen_"},"@ewen_"),", source code on"," ",r.a.createElement("a",{href:"https://github.com/ewenme/tracklister"},"Github"),".",r.a.createElement("h5",null,"Rekordbox support"),'Any playlist can be exported from Rekordbox by right-clicking, selecting "Export a playlist to a file", then "Export a playlist to a file for KUVO (*.txt)". Note that history files can be exported in the same way - find them under the "Histories" tab inside the explorer pane.',r.a.createElement("h5",null,"Traktor support"),'Any playlist can be exported from Traktor by right-clicking, then selecting "Export Playlist", and ensuring "NML" filetype is active. Traktor also exports all sessions as .nml history files - see'," ",r.a.createElement("a",{href:"https://support.native-instruments.com/hc/en-us/articles/210274225-What-Files-and-Folders-does-TRAKTOR-Install-on-my-System-"},"this article")," ","for more info."),r.a.createElement("div",{className:"actions"},r.a.createElement("button",{className:"muted-button",onClick:function(){console.log("modal closed "),e()}},"close")))}))}}]),t}(n.Component),R=function(e){function t(){var e;return Object(i.a)(this,t),(e=Object(u.a)(this,Object(m.a)(t).call(this))).state={acceptedFiles:[],track_data:[],track_numbers:!0},e.onDrop=function(t){t.forEach((function(t){var a=t.name.split(".").pop().toLowerCase();if("nml"===a){var n=new FileReader;n.onabort=function(){return console.log("file reading was aborted")},n.onerror=function(){return console.log("file reading has failed")},n.onload=function(){var t=n.result,a=new h.a.Parser;a.parseString(t);for(var r=a.resultObject,c=r.NML.COLLECTION[0].ENTRY,o=[],i=0;i<c.length;i++){var s=c[i].LOCATION[0].$;o.push({artist:c[i].$.ARTIST,track:c[i].$.TITLE,label:c[i].INFO[0].$.LABEL,location:s.VOLUME+s.DIR+s.FILE})}var u=r.NML.PLAYLISTS[0].NODE[0].SUBNODES[0].NODE[0].PLAYLIST[0].$.TYPE,m=r.NML.PLAYLISTS[0].NODE[0].SUBNODES[0].NODE[0].PLAYLIST[0].ENTRY,p=[];if("PROTOCOL"===u)for(var b=0;b<m.length;b++)p.push({location:m[b].PRIMARYKEY[0].$.KEY,track_no:b,played:m[b].EXTENDEDDATA[0].$.PLAYEDPUBLIC});else if("LIST"===u)for(var d=0;d<m.length;d++)p.push({location:m[d].PRIMARYKEY[0].$.KEY,track_no:d,played:"1"});var f=Object(l.a)(o.concat(p).reduce((function(e,t){return e.set(t.location,Object.assign(e.get(t.location)||{},t))}),new Map).values());f.sort((function(e,t){return parseFloat(e.track_no)-parseFloat(t.track_no)}));var k=f.filter((function(e){return"1"===e.played}));e.setState({track_data:k})},n.readAsText(t)}else if("txt"===a){var r=new FileReader;r.onabort=function(){return console.log("file reading was aborted")},r.onerror=function(){return console.log("file reading has failed")},r.onload=function(){var t=r.result.split("\n").map((function(e){return e.split("\t")})).filter((function(e){return 11===e.length}));t.shift();for(var a=[],n=0;n<t.length;n++)a.push({artist:t[n][3],track:t[n][2],track_no:n});e.setState({track_data:a})},r.readAsText(t)}})),e.setState({acceptedFiles:t})},e}return Object(p.a)(t,e),Object(s.a)(t,[{key:"toggleTrackNumbers",value:function(){this.setState({track_numbers:!this.state.track_numbers})}},{key:"render",value:function(){var e=this.state,t=e.track_data,a=e.track_numbers;return r.a.createElement("div",{className:"container"},r.a.createElement("div",{className:"top-bar"},r.a.createElement(w,null),r.a.createElement(b.a,{onDrop:this.onDrop,accept:".nml, .txt",multiple:!1},(function(e){var t=e.getRootProps,a=e.getInputProps,n=e.isDragActive;return r.a.createElement("div",t({className:"dropzone"}),r.a.createElement("input",a()),n?"stop, drop!":"click here or drag a file to upload")}))),r.a.createElement("section",null,r.a.createElement(N,{track_data:t,track_numbers:a}),r.a.createElement(L,null),r.a.createElement(g,null),r.a.createElement(A,null),r.a.createElement(y,{track_numbers:this.state.track_numbers,toggleTrackNumbers:this.toggleTrackNumbers.bind(this)})),r.a.createElement(k,{track_data:t,track_numbers:a}))}}]),t}(n.Component);a(348),a(349),a(350);o.a.render(r.a.createElement(R,null),document.getElementById("root"))}},[[146,1,2]]]);
//# sourceMappingURL=main.a6034f80.chunk.js.map