(this.webpackJsonptracklister=this.webpackJsonptracklister||[]).push([[0],{100:function(e,t,a){},102:function(e,t,a){"use strict";a.r(t);var r=a(0),n=a.n(r),l=a(50),c=a.n(l),s=a(51),o=a(52),i=a(63),u=a(59),m=a(60);var p=function(){return n.a.createElement("div",{className:"prose"}," ",n.a.createElement("p",null,"A simple app to turn .txt files exported from"," ",n.a.createElement("a",{href:"https://rekordbox.com/en/"},"Rekordbox")," and .nml files exported from"," ",n.a.createElement("a",{href:"https://en.wikipedia.org/wiki/Traktor"},"Traktor")," into tracklists."),n.a.createElement("p",null,n.a.createElement("a",{href:"https://ewen6.typeform.com/to/meXt691B"},"Feedback welcome :]")),n.a.createElement("p",null,n.a.createElement("a",{href:"https://github.com/ewenme/tracklister"},"Pull Requests also welcome !")),n.a.createElement("h4",null,"Rekordbox support"),n.a.createElement("p",null,'Any playlist can be exported from Rekordbox by right-clicking, selecting "Export a playlist to a file", then "Export a playlist to a file for KUVO (*.txt)". N.B. history files can be exported in the same way \u2014 find them under the "Histories" tab inside the explorer pane.'),n.a.createElement("h4",null,"Traktor support"),n.a.createElement("p",null,'Any playlist can be exported from Traktor by right-clicking, then selecting "Export Playlist", and ensuring "NML" filetype is active. Traktor also exports all sessions as .nml history files \u2014 see'," ",n.a.createElement("a",{href:"https://support.native-instruments.com/hc/en-us/articles/210274225-What-Files-and-Folders-does-TRAKTOR-Install-on-my-System-"},"this article")," ","for more info."))},f=function(e){if(0===e.track_data.length)return p();var t=e.track_data.map((function(e,t){return n.a.createElement("li",{className:"pb-4",key:t},n.a.createElement("span",{className:"track-artist"},n.a.createElement("b",null,e.artist)," "),n.a.createElement("br",null),n.a.createElement("span",{className:"track-title"},n.a.createElement("small",null,e.track)))})),a=e.track_numbers?"list-decimal":"list-none";return n.a.createElement("ol",{className:"list-inside "+a},t)};var d=function(e){return n.a.createElement("div",{id:"tracklist"},n.a.createElement(f,{track_data:e.track_data,track_numbers:e.track_numbers}))},k=a(54),E=a.n(k);var b=function(e){return n.a.createElement("label",{className:"flex flex-row"},n.a.createElement(E.a,{id:"track-no-status",defaultChecked:e.track_numbers,icons:!1,onChange:e.toggleTrackNumbers}),n.a.createElement("span",{className:"pl-2"},"track numbers"))},h=a(61),g=a(55);var v=function(e){var t,a,r=Object(g.a)((t=e.track_data,a=e.track_numbers,t.map((function(e,t){return a?t+1+". "+e.artist+" - "+e.track:e.artist+" - "+e.track})).join("\n")),{successDuration:1e3}),l=Object(h.a)(r,2),c=l[0],s=l[1];return n.a.createElement("button",{className:"bg-white hover:bg-gray-100 py-2 px-4 border border-gray-400 rounded shadow",onClick:s},c?"copied! \ud83d\udc4d":"copy to clipboard")},N=a(62),x=a(57),_=a.n(x),T=a(58);var y=function(e){Object(i.a)(a,e);var t=Object(u.a)(a);function a(){var e;return Object(s.a)(this,a),(e=t.call(this)).state={acceptedFiles:[],track_data:[],track_numbers:!0},e.onDrop=function(t){t.forEach((function(t){var a=t.name.split(".").pop().toLowerCase(),r=new FileReader;r.onabort=function(){return console.log("file reading was aborted")},r.onerror=function(){return console.log("file reading has failed")},r.onload=function(){var t=r.result;if("nml"===a){var n=function(e){var t=new _.a.Parser;t.parseString(e);for(var a=t.resultObject,r=a.NML.COLLECTION[0].ENTRY,n=[],l=0;l<r.length;l++){var c=r[l].LOCATION[0].$;n.push({artist:r[l].$.ARTIST,track:r[l].$.TITLE,label:r[l].INFO[0].$.LABEL,location:c.VOLUME+c.DIR+c.FILE})}var s=a.NML.PLAYLISTS[0].NODE[0].SUBNODES[0].NODE[0].PLAYLIST[0].$.TYPE,o=a.NML.PLAYLISTS[0].NODE[0].SUBNODES[0].NODE[0].PLAYLIST[0].ENTRY,i=[];if("PROTOCOL"===s)for(var u=0;u<o.length;u++)i.push({location:o[u].PRIMARYKEY[0].$.KEY,track_no:u,played:o[u].EXTENDEDDATA[0].$.PLAYEDPUBLIC});else if("LIST"===s)for(var m=0;m<o.length;m++)i.push({location:o[m].PRIMARYKEY[0].$.KEY,track_no:m,played:"1"});var p=Object(N.a)(n.concat(i).reduce((function(e,t){return e.set(t.location,Object.assign(e.get(t.location)||{},t))}),new Map).values());return p.sort((function(e,t){return parseFloat(e.track_no)-parseFloat(t.track_no)})),p.filter((function(e){return"1"===e.played}))}(t);e.setState({track_data:n})}else if("txt"===a){var l=function(e){var t=e.split("\n").map((function(e){return e.split("\t")})).filter((function(e){return 11===e.length}));t.shift();for(var a=[],r=0;r<t.length;r++)a.push({artist:t[r][3],track:t[r][2],track_no:r});return a}(t);e.setState({track_data:l})}else if("csv"===a){var c=function(e){var t=T.Papa.parse(e);return console.log(t),t.data}(t);e.setState({track_data:c})}},r.readAsText(t)}),e.setState({acceptedFiles:t}))},e}return Object(o.a)(a,[{key:"toggleTrackNumbers",value:function(){this.setState({track_numbers:!this.state.track_numbers})}},{key:"render",value:function(){var e=this.state,t=e.track_data,a=e.track_numbers;return n.a.createElement("div",{className:"container flex p-4"},n.a.createElement("div",{className:"flex-col flex-grow"},n.a.createElement("div",{className:"flex flex-row items-center space-x-4 pb-10"},n.a.createElement(b,{track_numbers:this.state.track_numbers,toggleTrackNumbers:this.toggleTrackNumbers.bind(this)}),n.a.createElement(v,{track_data:t,track_numbers:a})),n.a.createElement("div",{className:"space-x-2"},n.a.createElement(d,{track_data:t,track_numbers:a}))),n.a.createElement("div",{className:"p-4 border-4"},n.a.createElement(m.a,{onDrop:this.onDrop,accept:".nml, .txt",multiple:!1},(function(e){var t=e.getRootProps,a=e.getInputProps;e.isDragActive;return n.a.createElement("div",Object.assign({className:"flex h-full"},t({})),n.a.createElement("input",a()),"click here or drag a file to upload")}))))}}]),a}(r.Component);a(100),a(101);c.a.render(n.a.createElement(y,null),document.getElementById("root"))},89:function(e,t){},91:function(e,t){}},[[102,1,2]]]);
//# sourceMappingURL=main.c44c7cf0.chunk.js.map