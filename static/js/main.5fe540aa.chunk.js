(this.webpackJsonptracklister=this.webpackJsonptracklister||[]).push([[0],{148:function(e,t,a){e.exports=a(353)},338:function(e,t){},340:function(e,t){},350:function(e,t,a){},351:function(e,t,a){},353:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),c=a(133),l=a.n(c),o=a(20),s=a(21),i=a(23),u=a(22),m=a(24),p=a(145),d=function(e){var t=e.track_data.map((function(e,t){return r.a.createElement("li",{key:t},r.a.createElement("span",{className:"track-artist"},r.a.createElement("b",null,e.artist)," "),r.a.createElement("br",null),r.a.createElement("span",{className:"track-title"},r.a.createElement("small",null,e.track)))})),a=e.track_numbers?"decimal":"none";return r.a.createElement("ol",{style:{listStyleType:a}},t)};var f=function(e){return r.a.createElement("div",{id:"tracklist"},r.a.createElement(d,{track_data:e.track_data,track_numbers:e.track_numbers}))},b=a(135),k=function(){var e=Object(b.a)(!1);return r.a.createElement((function(e){var t=e.onClick;return r.a.createElement(r.a.Fragment,null,r.a.createElement("button",{className:"muted-button",id:"dark-status",icons:!1,onClick:t},"toggle text colour"))}),{onClick:e.toggle})},h=a(137),E=a.n(h);var g=function(e){return r.a.createElement("label",null,r.a.createElement(E.a,{id:"track-no-status",defaultChecked:e.track_numbers,icons:!1,onChange:e.toggleTrackNumbers}),r.a.createElement("span",{className:"label-text"},"track numbers"))},v=a(146),y=a(138);var N=function(e){var t,a,n=Object(y.a)((t=e.track_data,a=e.track_numbers,t.map((function(e,t){return a?t+1+". "+e.artist+" - "+e.track:e.artist+" - "+e.track})).join("\n")),{successDuration:1e3}),c=Object(v.a)(n,2),l=c[0],o=c[1];return r.a.createElement("button",{className:"muted-button",onClick:o},l?"copied! \ud83d\udc4d":"copy to clipboard")},O=a(140),T=a.n(O),_=a(141),C=a.n(_),L=function(e){function t(){return Object(o.a)(this,t),Object(i.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(m.a)(t,e),Object(s.a)(t,[{key:"printDocument",value:function(){var e=document.getElementById("tracklist");T.a.toBlob(e).then((function(e){C.a.saveAs(e,"my-tracklist.png")}))}},{key:"render",value:function(){return r.a.createElement(r.a.Fragment,null,r.a.createElement("button",{className:"muted-button",onClick:this.printDocument},"take a screenshot"))}}]),t}(n.Component),j=a(142),x=function(e){function t(){var e,a;Object(o.a)(this,t);for(var n=arguments.length,r=new Array(n),c=0;c<n;c++)r[c]=arguments[c];return(a=Object(i.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(r)))).handleChangeComplete=function(e,t){document.body.style.backgroundColor=e.hex},a}return Object(m.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){return r.a.createElement("div",{className:"bodyCol"},r.a.createElement(j.CompactPicker,{onChangeComplete:this.handleChangeComplete}))}}]),t}(n.Component),A=a(143);var I=function(){return r.a.createElement(A.a,{trigger:r.a.createElement("button",{className:"muted-button",id:"about"}," ","about / help"," "),modal:!0},(function(e){return r.a.createElement("div",{className:"modal"},r.a.createElement("a",{href:"/",className:"close",onClick:e},"\xd7"),r.a.createElement("div",{className:"header"}," about / help "),r.a.createElement("div",{className:"content"}," ","A simple app to turn .txt files exported from"," ",r.a.createElement("a",{href:"https://rekordbox.com/en/"},"Rekordbox")," and .nml files exported from"," ",r.a.createElement("a",{href:"https://en.wikipedia.org/wiki/Traktor"},"Traktor")," into beautiful tracklists. Built with"," ",r.a.createElement("a",{href:"https://reactjs.org/"},"React"),". Made by"," ",r.a.createElement("a",{href:"https://twitter.com/ewen_"},"@ewen_"),", source code on"," ",r.a.createElement("a",{href:"https://github.com/ewenme/tracklister"},"Github"),".",r.a.createElement("h5",null,"Rekordbox support"),'Any playlist can be exported from Rekordbox by right-clicking, selecting "Export a playlist to a file", then "Export a playlist to a file for KUVO (*.txt)". Note that history files can be exported in the same way - find them under the "Histories" tab inside the explorer pane.',r.a.createElement("h5",null,"Traktor support"),'Any playlist can be exported from Traktor by right-clicking, then selecting "Export Playlist", and ensuring "NML" filetype is active. Traktor also exports all sessions as .nml history files - see'," ",r.a.createElement("a",{href:"https://support.native-instruments.com/hc/en-us/articles/210274225-What-Files-and-Folders-does-TRAKTOR-Install-on-my-System-"},"this article")," ","for more info."),r.a.createElement("div",{className:"actions"},r.a.createElement("button",{className:"muted-button",onClick:function(){console.log("modal closed "),e()}},"close")))}))},S=a(147),D=a(144),R=a.n(D);var w=function(e){function t(){var e;return Object(o.a)(this,t),(e=Object(i.a)(this,Object(u.a)(t).call(this))).state={acceptedFiles:[],track_data:[],track_numbers:!0},e.onDrop=function(t){t.forEach((function(t){var a=t.name.split(".").pop().toLowerCase(),n=new FileReader;n.onabort=function(){return console.log("file reading was aborted")},n.onerror=function(){return console.log("file reading has failed")},n.onload=function(){var t=n.result;if("nml"===a){var r=function(e){var t=new R.a.Parser;t.parseString(e);for(var a=t.resultObject,n=a.NML.COLLECTION[0].ENTRY,r=[],c=0;c<n.length;c++){var l=n[c].LOCATION[0].$;r.push({artist:n[c].$.ARTIST,track:n[c].$.TITLE,label:n[c].INFO[0].$.LABEL,location:l.VOLUME+l.DIR+l.FILE})}var o=a.NML.PLAYLISTS[0].NODE[0].SUBNODES[0].NODE[0].PLAYLIST[0].$.TYPE,s=a.NML.PLAYLISTS[0].NODE[0].SUBNODES[0].NODE[0].PLAYLIST[0].ENTRY,i=[];if("PROTOCOL"===o)for(var u=0;u<s.length;u++)i.push({location:s[u].PRIMARYKEY[0].$.KEY,track_no:u,played:s[u].EXTENDEDDATA[0].$.PLAYEDPUBLIC});else if("LIST"===o)for(var m=0;m<s.length;m++)i.push({location:s[m].PRIMARYKEY[0].$.KEY,track_no:m,played:"1"});var p=Object(S.a)(r.concat(i).reduce((function(e,t){return e.set(t.location,Object.assign(e.get(t.location)||{},t))}),new Map).values());return p.sort((function(e,t){return parseFloat(e.track_no)-parseFloat(t.track_no)})),p.filter((function(e){return"1"===e.played}))}(t);e.setState({track_data:r})}else if("txt"===a){var c=function(e){var t=e.split("\n").map((function(e){return e.split("\t")})).filter((function(e){return 11===e.length}));t.shift();for(var a=[],n=0;n<t.length;n++)a.push({artist:t[n][3],track:t[n][2],track_no:n});return a}(t);e.setState({track_data:c})}},n.readAsText(t)}),e.setState({acceptedFiles:t}))},e}return Object(m.a)(t,e),Object(s.a)(t,[{key:"toggleTrackNumbers",value:function(){this.setState({track_numbers:!this.state.track_numbers})}},{key:"render",value:function(){var e=this.state,t=e.track_data,a=e.track_numbers;return r.a.createElement("div",{className:"container"},r.a.createElement("div",{className:"top-bar"},r.a.createElement(I,null),r.a.createElement(p.a,{onDrop:this.onDrop,accept:".nml, .txt",multiple:!1},(function(e){var t=e.getRootProps,a=e.getInputProps,n=e.isDragActive;return r.a.createElement("div",t({className:"dropzone"}),r.a.createElement("input",a()),n?"stop, drop!":"click here or drag a file to upload")}))),r.a.createElement("section",null,r.a.createElement(N,{track_data:t,track_numbers:a}),r.a.createElement(L,null),r.a.createElement(k,null),r.a.createElement(x,null),r.a.createElement(g,{track_numbers:this.state.track_numbers,toggleTrackNumbers:this.toggleTrackNumbers.bind(this)})),r.a.createElement(f,{track_data:t,track_numbers:a}))}}]),t}(n.Component);a(350),a(351),a(352);l.a.render(r.a.createElement(w,null),document.getElementById("root"))}},[[148,1,2]]]);
//# sourceMappingURL=main.5fe540aa.chunk.js.map